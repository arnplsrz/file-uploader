<% if (locals.user) { %>
<%- include('../partials/aside', { folder: folder }) %>

<h2>Uploaded Images</h2>
<div class="image-grid">
  <% if (files && files.length > 0) { %>
  <% files.forEach(file => { %>
  <% if (file.type.startsWith('image/')) { %>
  <div class="image-item">
    <img src="<%= file.path %>" alt="<%= file.name %>" style="max-width: 300px">
    <p><%= file.name %></p>
  </div>
  <% } %>
  <% }) %>
  <% } else { %>
  <p>No files available.</p>
  <% } %>
</div>

<h2>Subfolders</h2>
<ul>
  <% if (folders && folders.length > 0) { %>
  <% folders.forEach(folder => { %>
  <li><a href="/folder/<%= folder.id %>"><%= folder.name %></a></li>
  <% }) %>
  <% } else { %>
  <li>No subfolders available.</li>
  <% } %>
</ul>
<% } %>